## 目标
- 让饼状图直接在图形上显示百分比标签，提升可读性。
- 在“周报页面”和“自定义报表页面”保持一致的百分比展示与交互，可通过开关控制显示。

## 影响范围
- `components/MetricsCharts.tsx`（周报中的“客情面积占比”）
- `components/ChartRenderer.tsx`（自定义报表的饼状图渲染）
- `components/ChartEditor.tsx`（为饼状图添加“显示百分比标签”开关）
- `types.ts`（扩展 `ChartOptions` 增加 `showPercent` 配置）

## 技术方案
- 扩展类型：在 `ChartOptions` 中新增 `showPercent?: boolean`，用于控制是否在饼图上显示百分比标签。
- 周报饼图：
  - 在 `MetricsCharts.tsx` 的 `Pie` 上启用 `label`，使用自定义 `label` 渲染函数，优先读取 `payload.pct`（已有百分比字段），格式为 `xx%`。
  - 保持现有 `Tooltip` 的㎡与百分比展示，新增的标签与 Tooltip 同步显示信息。
- 自定义报表饼图：
  - 在 `ChartRenderer.tsx` 的饼图渲染分支中，当 `config.options?.showPercent` 为 true 时，计算总值（`sum(value)`），并针对每个分片显示 `(value/total*100).toFixed(0)%` 或保留 1 位小数。
  - 仍保留现有 `Tooltip` 与可选 `Legend`；当 `showLabel` 与 `showPercent` 同时开启时，优先显示百分比标签。
- 编辑器开关：
  - 在 `ChartEditor.tsx` 增加“显示百分比标签”复选框，写入到 `options.showPercent`。
  - 保持默认 `showLegend: true`、`showLabel: true`，`showPercent: true`（饼图的默认值）。

## 样式与表现
- 标签样式：使用 Recharts 的 `label`（居中或外侧简洁文本），字号与颜色与现有风格一致（11–12px，灰度文本）。
- 位置与重叠：控制 `innerRadius/outerRadius` 与 `paddingAngle`，避免重叠；在小数据或很多分片时，仍可依赖 Tooltip 获取精确信息。

## 验证
- 周报页：确认“客情面积占比”每个分片显示 `xx%`；Tooltip 继续显示 `㎡ 与 %`。
- 自定义页：新增饼图，录入数据后分片显示 `xx%`；开关关闭时标签隐藏；导入/导出 JSON 后 `showPercent` 保持。

## 交付与注释
- 所有新增/修改的函数与关键组件添加中文函数级注释。
- 不引入新依赖，仅使用现有 `recharts` 与项目样式。

## 回滚与兼容
- 若不需要显示百分比，可通过关闭 `showPercent` 恢复原有仅 Tooltip 的行为。
- 变更向后兼容，默认行为为饼图显示百分比标签。